<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechTrove Sales Report</title>
</head>
<style>
    table th {
      text-align: left; /* Set table heading alignment to left */
    }
  </style>
<body>
    <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="w-100 text-center">
                <h1>TechTrove</h1>
                <h1>Sales Report</h1>
            </div>
            <div class="card-header">
              <h3>{{start_date}} to {{end_date}}</h3>
            </div>
            <div class="card-body">
              <div class="mx-auto mb-5 card shadow-sm p-3 mb-5 bg-white rounded">
                <div class="row mx-auto w-50">
                  <div class="col-md-6 text-right"> <h6 class="card-title">Total Orders</h6>
                    <p class="h5 ml-5 card-text">{{ total_orders }}</p>
                  </div>
                  <div class="col-md-6 text-right"> <h6 class="card-title">Total Revenue</h6>
                    <p class="h5 card-text">Rs. {{ total_revenue }}</p>
                  </div>
                </div>
                
                <h2>Product Sales (Ordered by Quantity Sold)</h2>
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th>Product Name</th>
                      <th>Category</th>
                      <th>Price</th>
                      <th>Quantity Sold</th>
                      <th>Revenue</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for item in product_sales %}
                    <tr>
                      <td>{{ item.product_name }}</td>
                      <td>{{ item.category }}</td>
                      <td>Rs. {{ item.price }}</td>
                      <td>{{ item.quantity }}</td>
                      <td>Rs. {{ item.total_sales }}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
                
                <h2>Category Sales (Ordered by Quantity Sold)</h2>
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th>Category Name</th>
                      <th>Quantity Sold</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for item in category_sales %}
                    <tr>
                      <td>{{ item.category }}</td>
                      <td>{{ item.quantity }}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
                <h2>Offers applied</h2>
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th>Offer title</th>
                      <th>Offer discount value</th>
                      <th>Count</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for item in offer_counts %}
                    <tr>
                      <td>{{ item.offer_title}}</td>
                      {% if item.offer_discount_type == 'fixed_amount' %}
                      <td>Rs. {{ item.offer_discount_value  }}</td>
                      {% else %}
                      <td>{{ item.offer_discount_value  }}%</td>
                      {% endif %}
                      <td>{{ item.count  }}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
                <h2>Coupons applied</h2>
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th>Coupon Name</th>
                      <th>Overall discount</th>
                      <th>Count</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for item in coupons_applied %}
                    <tr>
                      <td>{{ item.coupon_applied}}</td>
                      <td>{{ item.overall_discount }}</td>
                      <td>{{ item.count  }}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      
</body>
</html>